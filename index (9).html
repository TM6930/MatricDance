<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jeppe Girls Matric Dance - MD Portal</title>
  <style>
    body {
      font-family: 'Georgia', serif;
      background: #fefefe;
      color: #333;
      margin: 0;
      padding: 0;
    }
    h1, h2 {
      text-align: center;
      color: #bfa34d;
      font-family: 'Garamond', serif;
    }
    h1 {
      margin-top: 20px;
      text-shadow: 2px 2px 4px #000;
    }
    .step {
      display: none;
      max-width: 1000px;
      margin: 30px auto;
      padding: 30px;
      background: #fff;
      border: 2px solid #bfa34d;
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
    }
    .active {
      display: block;
    }
    .buttons {
      text-align: center;
      margin-top: 20px;
    }
    button {
      background: #bfa34d;
      color: #fff;
      border: none;
      padding: 12px 25px;
      margin: 5px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.2s ease;
    }
    button:hover {
      background: #e6d16b;
      color: #000;
    }
    input, select, textarea {
      width: 80%;
      margin: 10px auto;
      display: block;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #bfa34d;
      font-size: 14px;
    }
    .caption {
      text-align: center;
      color: #333;
      font-style: italic;
      margin-top: 5px;
      margin-bottom: 15px;
    }
    .floor {
      position: relative;
      width: 1000px;
      height: 800px;
      margin: 0 auto 20px auto;
      background: #000;
      border: 2px solid #bfa34d;
      border-radius: 15px;
    }
    .dancefloor {
      position: absolute;
      left: 350px;
      top: 200px;
      width: 300px;
      height: 250px;
      background: #eee8dc;
      border: 2px solid #bfa34d;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 18px;
    }
    .dj {
      position: absolute;
      right: 0;
      bottom: 0;
      width: 100px;
      height: 40px;
      background: #bfa34d;
      color: #fff;
      text-align: center;
      line-height: 40px;
      font-weight: bold;
    }
    .table {
      position: absolute;
      background: #ffd700;
      border-radius: 50%;
      width: 80px;
      height: 80px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      font-weight: bold;
      color: #333;
      transition: transform 0.2s;
    }
    .table.square {
      border-radius: 10px;
      width: 100px;
      height: 100px;
      background: #bfa34d;
      color: #fff;
    }
    .table:hover {
      transform: scale(1.1);
    }
    .seat {
      width: 20px;
      height: 20px;
      background: #fff;
      border: 1px solid #bfa34d;
      border-radius: 50%;
      margin: 2px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .seat.selected {
      background: #bfa34d;
    }
    #confirmation {
      background: #fdf5e6;
      border: 1px solid #bfa34d;
      padding: 20px;
      border-radius: 10px;
      text-align: left;
      font-size: 16px;
      line-height: 1.6;
    }
    #contact {
      text-align: center;
      margin: 30px;
      font-size: 14px;
      color: #333;
      font-style: italic;
    }
  </style>
</head>
<body>

  <h1>Welcome to the Jeppe Girls Matric Dance Portal!</h1>
  <p class="caption">Let's get ready for a night to remember ‚ú® </p>

  <div class="step active" id="step1">
    <h2>Step 1: Upload Proof of Payment</h2>
    <input type="file" id="paymentProof" accept="image/*,application/pdf">
    <p class="caption">The Great Gatsby! üì∏</p>
    <div class="buttons">
      <button onclick="nextStep()">Next</button>
    </div>
  </div>

  <div class="step" id="step2">
    <h2>Step 2: Choose Your Table & Seats</h2>
    <div class="floor" id="floorPlan"></div>
    <p class="caption">Click on a table to select it, then pick your seats! üéâ</p>
    <div class="buttons">
      <button onclick="prevStep()">Back</button>
      <button onclick="nextStep()">Next</button>
    </div>
  </div>

  <div class="step" id="step3">
    <h2>Step 3: Dietary Requirements</h2>
    <textarea id="dietary" placeholder="Enter any dietary requirements..."></textarea>
    <p class="caption">Let us know how we can make your meal perfect! üçΩÔ∏è</p>
    <div class="buttons">
      <button onclick="prevStep()">Back</button>
      <button onclick="nextStep()">Next</button>
    </div>
  </div>

  <div class="step" id="step4">
    <h2>Step 4: Music Choices</h2>
    <textarea id="music" placeholder="Enter your table's music choices..."></textarea>
    <p class="caption">Make your night unforgettable with your favorite songs! üé∂</p>
    <div class="buttons">
      <button onclick="prevStep()">Back</button>
      <button onclick="nextStep()">Next</button>
    </div>
  </div>

  <div class="step" id="step5">
    <h2>Step 5: Confirm Your Details</h2>
    <div id="confirmation"></div>
    <div class="buttons">
      <button onclick="prevStep()">Back</button>
      <button onclick="submitForm()">Submit</button>
    </div>
  </div>

  <div id="contact">
    For assistance, contact us at <strong>mjarvis@jeppegirls.co.za</strong> 
  </div>

 <script>
let currentStep = 1;
const totalSteps = 5;
const floor = document.getElementById("floorPlan");
let selectedTable = null;

const tableData = [
  {id: 1, type: 'square', seats: 12, top: 50, left: 50},
  {id: 'danceFloor', type: 'rectangle', label: 'DANCE FLOOR', top: 50, left: 200, width: 500, height: 200},
  {id: 23, type: 'square', seats: 12, top: 50, left: 750},
  {id: 2, type: 'round', seats: 10, top: 200, left: 50},
  {id: 22, type: 'round', seats: 10, top: 200, left: 750},
  {id: 3, type: 'square', seats: 12, top: 350, left: 50},
  {id: 4, type: 'round', seats: 10, top: 300, left: 150},
  {id: 5, type: 'square', seats: 12, top: 300, left: 250},
  {id: 19, type: 'square', seats: 12, top: 300, left: 400},
  {id: 12, type: 'round', seats: 10, top: 300, left: 550},
  {id: 20, type: 'round', seats: 10, top: 300, left: 650},
  {id: 21, type: 'square', seats: 12, top: 350, left: 750},
  {id: 7, type: 'square', seats: 12, top: 500, left: 50},
  {id: 6, type: 'round', seats: 10, top: 450, left: 150},
  {id: 9, type: 'round', seats: 10, top: 500, left: 250},
  {id: 11, type: 'square', seats: 12, top: 450, left: 350},
  {id: 13, type: 'square', seats: 12, top: 450, left: 500},
  {id: 15, type: 'round', seats: 10, top: 450, left: 650},
  {id: 18, type: 'round', seats: 10, top: 450, left: 650},
  {id: 19, type: 'square', seats: 12, top: 500, left: 750},
  {id: 8, type: 'round', seats: 10, top: 650, left: 50},
  {id: 10, type: 'square', seats: 12, top: 650, left: 300},
  {id: 14, type: 'round', seats: 10, top: 650, left: 550},
  {id: 16, type: 'square', seats: 12, top: 650, left: 700},
];

tableData.forEach(t => {
  const table = document.createElement('div');
  table.classList.add('table');
  if(t.type === 'square') table.classList.add('square');
  table.style.top = t.top + 'px';
  table.style.left = t.left + 'px';
  table.innerHTML = `<div style="width:100%;text-align:center;font-weight:bold;">${t.label || t.id}</div>`;

  if(t.seats){
    for(let i=0; i<t.seats; i++){
      const seat = document.createElement('div');
      seat.classList.add('seat');

      seat.addEventListener('click', e => {
        e.stopPropagation();
        const selectedSeats = table.querySelectorAll('.seat.selected');
        if(!seat.classList.contains('selected') && selectedSeats.length >= 2){
          alert("You can select a minimum of 1 and maximum of 2 seats per table.");
          return;
        }
        seat.classList.toggle('selected');
      });

      table.appendChild(seat);
    }
  }

  table.addEventListener('click', () => {
    selectedTable = t.id;
    document.querySelectorAll('.table').forEach(tb => tb.style.transform='scale(1)');
    table.style.transform='scale(1.2)';
  });

  if(t.type === 'rectangle'){
    table.style.width = t.width + 'px';
    table.style.height = t.height + 'px';
    table.style.backgroundColor = '#eee8dc';
    table.style.border = '2px solid #bfa34d';
    table.style.display = 'flex';
    table.style.justifyContent = 'center';
    table.style.alignItems = 'center';
    table.style.fontWeight = 'bold';
    table.style.fontSize = '18px';
  }

  floor.appendChild(table);
});

function nextStep(){
  if(currentStep === 2){
    if(!selectedTable){
      alert("Please select a table before continuing.");
      return;
    }
    const tableDiv = [...document.querySelectorAll('.table')].find(t => t.innerText.includes(selectedTable));
    const seatsSelected = tableDiv.querySelectorAll('.seat.selected').length;
    if(seatsSelected < 1){
      alert("Please select at least 1 seat for your table.");
      return;
    }
  }

  document.getElementById(`step${currentStep}`).classList.remove('active');
  currentStep++;
  if(currentStep > totalSteps) currentStep = totalSteps;
  document.getElementById(`step${currentStep}`).classList.add('active');
  if(currentStep === 5) showConfirmation();
}

function prevStep(){
  document.getElementById(`step${currentStep}`).classList.remove('active');
  currentStep--;
  if(currentStep < 1) currentStep = 1;
  document.getElementById(`step${currentStep}`).classList.add('active');
}

function showConfirmation(){
  const dietary = document.getElementById('dietary').value || 'None';
  const music = document.getElementById('music').value || 'None';
  const tableDiv = [...document.querySelectorAll('.table')].find(t => t.innerText.includes(selectedTable));
  const seatsSelected = tableDiv.querySelectorAll('.seat.selected').length;

  const confirmation = `
    <p><strong>Table Selected:</strong> ${selectedTable}</p>
    <p><strong>Seats Selected:</strong> ${seatsSelected}</p>
    <p><strong>Dietary Requirements:</strong> ${dietary}</p>
    <p><strong>Music Choices:</strong> ${music}</p>
    <p><strong>Note:</strong> Once you submit, no changes can be made.</p>
  `;
  document.getElementById('confirmation').innerHTML = confirmation;
}

function submitForm(){
  alert("Form submitted! Thank you, your details are confirmed.");
}
</script>

</body>
</html>
